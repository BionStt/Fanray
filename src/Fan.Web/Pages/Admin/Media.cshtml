@page
@model MediaModel
@{
    ViewData["Title"] = "Media";
}

<blog-media></blog-media>

@section ComponentScripts {
    <script src="https://unpkg.com/vuex@3.0.1/dist/vuex.min.js"></script>
    <partial name="_BlogMediaTemplate" />
    <script>
        const mediaModule = {
            namespaced: true,
            state: {
                images: @Html.Raw(Model.Data.ImagesJson),
                count: @Model.ImageCount,
            },
            mutations: {
                setImages: function (state, newImages) { state.images = newImages; },
                setCount: function (state, newCount) { state.count = newCount; },
            },
        }
        let mediaMixin = { data: function () { return { pageSize: @MediaModel.PAGE_SIZE, }; } };
    </script>
    <script src="~/admin/js/blog-media.js" asp-append-version="true"></script>
}