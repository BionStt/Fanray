{"version":3,"sources":["../../../Areas/Admin/js/setup.js"],"names":["Vue","el","mixins","setupMixin","data","valid","title","titleRules","v","trim","email","emailRules","test","userName","userNameRules","length","displayName","displayNameRules","password","passwordRules","required","min","passwordVisible","errMsg","computed","tok","document","querySelector","value","payload","timeZoneId","selectedTimeZoneId","methods","createBlog","axios","post","headers","then","window","location","replace","catch","err","response","errorMessage"],"mappings":"AAIA,GAAIA,IAAJ,CAAQ,CACJC,GAAI,MADA,CAEJC,OAAQ,CAACC,UAAD,CAFJ,CAGJC,KAAM,CACFC,QADE,CAEFC,MAAO,EAFL,CAGFC,WAAY,CACRC,GAAK,CAAC,CAACA,EAAEC,IAAF,EAAF,EAAc,UADX,CAHV,CAMFC,MAAO,EANL,CAOFC,WAAY,CACRH,GAAK,CAAC,CAACA,CAAF,EAAO,UADJ,CAERA,GAAK,QAAQI,IAAR,CAAaJ,CAAb,GAAmB,qBAFhB,CAPV,CAWFK,SAAU,EAXR,CAYFC,cAAe,CACXN,GAAK,CAAC,CAACA,CAAF,EAAO,UADD,CAEXA,GAAiB,CAAZ,IAAEO,MAAF,EAAiB,kBAFX,CAGXP,GAAiB,EAAZ,IAAEO,MAAF,EAAkB,mBAHZ,CAIXP,GAAK,mBAAmBI,IAAnB,CAAwBJ,CAAxB,GAA8B,qCAJxB,CAZb,CAkBFQ,YAAa,EAlBX,CAmBFC,iBAAkB,CACdT,GAAK,CAAC,CAACA,CAAF,EAAO,UADE,CAEdA,GAAiB,CAAZ,IAAEO,MAAF,EAAiB,kBAFR,CAGdP,GAAiB,EAAZ,IAAEO,MAAF,EAAkB,mBAHT,CAnBhB,CAwBFG,SAAU,EAxBR,CAyBFC,cAAe,CACXC,SAAUZ,GAAK,CAAC,CAACA,EAAEC,IAAF,EAAF,EAAc,UADlB,CAEXY,IAAKb,GAAiB,CAAZ,IAAEO,MAAF,EAAiB,kBAFhB,CAzBb,CA6BFO,kBA7BE,CA8BFC,OAAQ,EA9BN,CAHF,CAmCJC,SAAU,CACNC,IAAK,UAAY,CACb,MAAOC,UAASC,aAAT,CAAuB,yDAAvB,EAAkFC,KAC5F,CAHK,CAINC,QAAS,UAAY,CACjB,MAAO,CACHvB,MAAO,KAAKA,KADT,CAEHwB,WAAY,KAAKC,kBAFd,CAGHrB,MAAO,KAAKA,KAHT,CAIHG,SAAU,KAAKA,QAJZ,CAKHG,YAAa,KAAKA,WALf,CAMHE,SAAU,KAAKA,QANZ,CAQV,CAbK,CAnCN,CAkDJc,QAAS,CACLC,YAAa,CACT,KAAK5B,KAAL,GADS,CAET6B,MAAMC,IAAN,CAAW,QAAX,CAAqB,KAAKN,OAA1B,CAAmC,CAAEO,QAAS,CAAE,aAAc,KAAKX,GAArB,CAAX,CAAnC,EACKY,IADL,CACU,IAAQ,CACVC,OAAOC,QAAP,CAAgBC,OAAhB,CAAwB,GAAxB,CACH,CAHL,EAIKC,KAJL,CAIWC,GAAO,CACV,KAAKrC,KAAL,GADU,CAGV,KAAKkB,MAAL,CAAcmB,EAAIC,QAAJ,CAAavC,IAAb,CAAkB,CAAlB,EAAqBwC,YACtC,CARL,CASH,CAZI,CAlDL,CAAR,C","file":"setup.js","sourcesContent":["ï»¿/**\r\n * Setup.cshtml\r\n */\r\n\r\nnew Vue({\r\n    el: '#app',\r\n    mixins: [setupMixin],\r\n    data: {\r\n        valid: false,\r\n        title: '',\r\n        titleRules: [\r\n            v => !!v.trim() || 'Required',\r\n        ],\r\n        email: '',\r\n        emailRules: [\r\n            v => !!v || 'Required',\r\n            v => /.+@.+/.test(v) || 'Email must be valid',\r\n        ],\r\n        userName: '',\r\n        userNameRules: [\r\n            v => !!v || 'Required',\r\n            v => v.length >= 2 || 'Min 2 characters',\r\n            v => v.length <= 24 || 'Max 20 characters',\r\n            v => /^[a-zA-Z0-9-_]+$/.test(v) || 'Alphanumeric, dash, underscore only',\r\n        ],\r\n        displayName: '',\r\n        displayNameRules: [\r\n            v => !!v || 'Required',\r\n            v => v.length >= 2 || 'Min 2 characters',\r\n            v => v.length <= 24 || 'Max 24 characters',\r\n        ],\r\n        password: '',\r\n        passwordRules: {\r\n            required: v => !!v.trim() || 'Required',\r\n            min: v => v.length >= 8 || 'Min 8 characters',\r\n        },\r\n        passwordVisible: false,\r\n        errMsg: '',\r\n    },\r\n    computed: {\r\n        tok: function () {\r\n            return document.querySelector('input[name=\"__RequestVerificationToken\"][type=\"hidden\"]').value;\r\n        },\r\n        payload: function () {\r\n            return {\r\n                title: this.title,\r\n                timeZoneId: this.selectedTimeZoneId,\r\n                email: this.email,\r\n                userName: this.userName,\r\n                displayName: this.displayName,\r\n                password: this.password,\r\n            };\r\n        },\r\n    },\r\n    methods: {\r\n        createBlog() {\r\n            this.valid = false;\r\n            axios.post('/setup', this.payload, { headers: { 'XSRF-TOKEN': this.tok } })\r\n                .then(resp => {\r\n                    window.location.replace('/');\r\n                })\r\n                .catch(err => {\r\n                    this.valid = true;\r\n                    console.log(err);\r\n                    this.errMsg = err.response.data[0].errorMessage;\r\n                });\r\n        },\r\n    }\r\n});"]}