'use strict'; new Vue({ el: '#app', data: { valid: !1, userName: '', nameRules: [function (a) { return !!a.trim() || 'Email or username is required' }], password: '', passwordRules: [function (a) { return !!a.trim() || 'Password is required' }], rememberMe: !1, errMsg: '' }, computed: { tok: function tok() { return document.querySelector('input[name="__RequestVerificationToken"][type="hidden"]').value }, payload: function payload() { return { userName: this.userName, password: this.password, rememberMe: this.rememberMe } } }, methods: { login: function login() { var a = this; axios.post('/api/auth/login', this.payload, { headers: { 'XSRF-TOKEN': this.tok } }).then(function () { window.location.replace(a.getQueryParam('ReturnUrl') || '/admin') }).catch(function (b) { console.log(b), a.errMsg = 'Login failed, please try again!' }) }, getQueryParam: function getQueryParam(a) { var b = window.location.href; a = a.replace(/[\[\]]/g, '\\$&'); var c = new RegExp('[?&]' + a + '(=([^&#]*)|&|#|$)'), d = c.exec(b); return d ? d[2] ? decodeURIComponent(d[2].replace(/\+/g, ' ')) : '' : null } } });